<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>map-set与数组和对象的对比</title>
</head>
<body>
	<script type="text/javascript">
		// Map与Array的对比
		// set与Array的对比
		{
			//增 查 改 删
			let map = new Map()
			let array = []
			//增
			map.set('t',1)
			array.push({t:1})
			console.log('map-array',map,array)

			//查
			let map_exist = map.has('t')
			let array_exist = array.find(item => item.t)
			console.log('map-array',map_exist,array_exist)

			//改
			map.set('t',2)
			array.forEach(item => item.t?item.t=2:'')
			console.info('map-array-modify',map,array)

			//删除
			map.delete('t')
			let index = array.findIndex(item => item.t)
			array.splice(index,1)

			console.info('map-array-empty',map,array)
		}

		{
			//set和arr的对比
			let set = new Set()
			let arr = []
			//增
			set.add({t:1})
			arr.push({t:1})

			console.log('set-arr',set,arr)

			//查
			let set_exsit = set.has({t:1})
			let arr_exist = arr.find(item => item.t)
			console.info('set-arr',set_exsit,arr_exist)

			//改
			set.forEach(item => item.t?item.t=2:'')
			arr.forEach(item => item.t?item.t=2:'')

			console.info('set-arr-modify',set,arr)

			//删
			set.forEach(item => item.t?set.delete(item):'')
			let index = arr.findIndex(item => item.t)
			arr.splice(index,1)
			console.info('set-arr-empty',set,arr)
		}

		//map与Object的对比
		//Set与Object的对比
		{
			let item = {t:1}
			let map = new Map()
			let set = new Set()
			let obj = {}

			//增
			map.set('t',1)
			set.add(item)
			obj['t'] = 1

			console.info('map-set-obj',map,set,obj)

			//查
			console.info({
				map_exsit:map.has('t'),
				set_exsit:set.has(item),
				obj_exist:'t' in obj
			})

			//改
			map.set('t',2)
			item.t = 2
			obj['t'] = 2

			console.info('map-set-obj-modify',map,set,map)

			//删除
			map.delete('t')
			set.delete(item)
			delete obj['t']

			console.info('map-set-obj-delete',map,set,obj)
		}

		//map>arr
		//数据的唯一性 set
		//优先使用的map set 放弃 数组 和 对象
	</script>
</body>
</html>
